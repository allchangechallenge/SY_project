<!DOCTYPE html>
<html>
    <head>
        <title> SY </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <script src="template/aframe-v1.0.4.js"></script>
        <script src="https://unpkg.com/aframe-orbit-controls@1.0.0/dist/aframe-orbit-controls.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

        <script src="https://cdn.jsdelivr.net/npm/animejs@3.0.1/lib/anime.min.js"></script>
        
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js"></script> -->
        <script src="template/GSAP/gsap.min.js"></script>


        <link rel="stylesheet" href="template/SY.css"></link>
    </head>

    <body onload="main()">
        <div id="loadPage">
            <p id="load_w">Loading</p>
        </div>

        <div id="homeBackground">
            <div id="bottom02"></div>
            <div id="bottom03"></div>
        </div>

        <div id='sceneMaskDiv'></div>
        <div id='gsapEmpty'></div>

        <div id="homePage">
            <div id="SY_icon">
                <img id="SY_img" src="source/cutImage/logo/logo-02@2x.png" width="100%">
            </div>
            <div id="icon_bottom"></div>
            <div id="home_menu">
                <div class="homeBtn" id="button1-1"></div>
                <div class="homeBtn" id="button1-2"></div>
                <div class="homeBtn" id="button1-6"></div>

                <div id="button1-1-hover" onclick="showModelControl( 0 )"></div>
                <div id="button1-2-hover" onclick="goShop()"></div>
                <div id="button1-6-hover" onclick="goGame()"></div>
                
                <div id="button1-1-click" onclick="showModelControl( 1 )">
                    <div id="button2-1"></div>
                    <div id="button2-1-click"></div>
                    <div id="button2-1-hover"></div>
                    <div id="button2-2"></div>
                    <div id="button2-2-click"></div> 
                    <div id="button2-2-hover"></div>
                </div>
                <div id="button1-2-click"></div>
                <div id="button1-6-click"></div>
            </div>
            <div id="middle_bottom">
                <div id="bottom_paint">
                    <img id="bottom-05" src="cutImage/bottom/bottom-05@2x.png">
                </div>
                <div id="icon">
                    <div id="zoom_square"> 
                        <div id="zoom" onclick="fullScreen()"></div>       
                    </div>
                    <div id="ques_circle">
                        <div id="ques"></div>
                    </div>
                </div>
            </div>
        </div>    

        <!-- Home Page for Mobile -->
        <div id="homeMobile">
            <div id="SY_icon">
                <img id="SY_img" src="source/cutImage/logo/logo-02@2x.png" width="100%">
            </div>
            <div id="icon_bottom"></div>
            <div id="up">
                <div class="homeBtn" id="rwd-button1-3"></div>
                <div id="rwd-button1-3-click"></div>
                <div class="homeBtn" id="rwd-button1-4"></div>
                <div id="rwd-button1-4-click"></div>
            </div>
            <div id="down">
                <div class="homeBtn" id="rwd-button1-1"></div>
                <div id="rwd-button1-1-click"></div>
                <div class="homeBtn" id="rwd-button1-2"></div>
                <div id="rwd-button1-2-click"></div>
                <div id="ques_circle">
                    <div id="ques"></div>
                </div>
            </div>
        </div>

        <div id="template_vr">
            <div id="SY_icon">
                <img id="SY_img" src="source/cutImage/logo/logo-02@2x.png" width="100%">
            </div>
            <div id="icon_bottom"></div>
            <!-- <div id="VRModelbackModel" onclick="toOrbit()"></div> -->
            <div id="VRModelbackModel"></div>
        </div>    

        <div id="template_360"> 
            <div id="SY_icon_360">
                <img id="SY_img" src="source/cutImage/logo/logo-02@2x.png" width="100%">
            </div>
            <div id="icon_bottom_360"></div>     
            <div id="menu">
                <div id="menu_back"></div>
                <div id="menu_icon" onclick="click_menu()"></div>
                <div id="scroll_bar" class="scroll_bar">
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('d8d672ddb5894b9a92480fcf4649dfc4')">松山菸廠歷史回顧</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('f7878d4894d946ffba58b453e8a13929')">製菸工廠</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('94d7b04abd6e470ea1d289cb004b3a3c')">理葉工廠</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('8469b106c80446988d71204a04713fc5')">雪茄工廠</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('bdc6eda7c23743e8ad5d6d242cf46bc9')">切葉工廠</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('c0b4f403106442f2a83295a4cb5542b6')">醫護室</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('3a11c445debc47939074a0c3297694df')">巴洛克花園</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('99808d3c19b14b3cab81b6821dab447d')">澡堂</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('15fd655f039d4da3a546ae174333de2f')">多功能展演廳</span>
                    <!-- <span class="scroll">製菸工廠二樓</span> -->
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('b5e7eeb146954a73af7a9248cff19543')">松菸口</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('e6a9716f79fb4dce8fb27136340cba09')">辦公廳舍與正門</span>
                    <!-- <span class="scroll">檢查室</span> -->
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('8ed7325295d6420b85f9d796508cacaa')">1-5號倉庫</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('c7827db770f24a4e908cb81a91021f02')">2號倉庫與輸送帶</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('faaca8c43d854f1d8c5bf80a612dc8b0')">鍋爐房</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('fb1c680e707e4126901d4c6837c94c64')">機器修理廠</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('18522ccb12004b1f8b8f3961858c4465')">生態景觀池</span>
                    <span class="scroll" onclick="checkSceneLoadStateAndLoadScene('c9d3fda09cf444aa8e1e90798e92997f')">育嬰室</span>
                </div>
            </div>
            <div id="middle_bottom_360">
                <div id="bottom_paint_360">
                    <img id="bottom-05" src="cutImage/bottom/bottom-05@2x.png">
                </div>
                <div id="icon_360">
                    <div id="loc_back">
                        <div id="location" onclick="openMapPage()"></div>
                    </div>
                    <div id="vr_back">
                        <div id="vr"></div>
                    </div>
                    <div id="zoom_square"> 
                        <div id="zoom2" onclick="fullScreen()"></div>       
                    </div>
                    <div id="ques_circle">
                        <div id="ques2"></div>
                    </div>
                </div>
            </div>
            <div id="VR360BackModel" onclick="toOrbit()"></div>
        </div>   

        <div id="mapPage">
            <div id="bigMap">
                <div id="x_circle">
                    <div id="x" onclick="openMapPage()"></div>
                </div>
            </div>
        </div>

        <div id="down_right_360">
            <div id="map_area" class="down_right">
                <img id="map" src="source/map/map.jpg">
                <div id="dots"></div>
                <div id="circle"></div>
            </div>
            <div id="down_right_icon" class="down_right">
                <img id="loc_icon" class="down_right_icon" src="source/location.png" onclick="map_func()">
                <img id="help_icon" class="down_right_icon" src="source/help.png">
            </div>
        </div>

        <div id="tags">
            <div id="b_tag" class="tag360" onclick="to360( 'b5e7eeb146954a73af7a9248cff19543' )">◈Blue box</div>
            <div id="y_tag" class="tag360" onclick="to360( '3a11c445debc47939074a0c3297694df' )">◈Yellow box</div>
            <div id="r_tag" class="tag360" onclick="to360( '18522ccb12004b1f8b8f3961858c4465' )">◈Red box</div>
            <div id="p_tag" class="tag360" onclick="to360( '8469b106c80446988d71204a04713fc5' )">◈Purple box</div>

            <div id="g_tag" class="tagModel" onclick="toVR('g')">Green box</div>
            <div id="o_tag" class="tagModel" onclick="toVR('o')">Orange box</div>
        </div>

        <div id="undef">
            <p id="undefined_cap">This scene hasn't been defined</p>
        </div>

        <script src="template/tick.js"></script>

        <div>
            <a-scene tag-monitor debug gltf-model="dracoDecoderPath: /template/draco/;" loading-screen="enabled: false" 
            renderer='antialias: true; colorManagement: false; sortObjects: false; physicallyCorrectLights: false; logarithmicDepthBuffer: false; '>
                <a-assets>
                    <img id="arrow" src="source/arrow.png">
                    <!-- <a-asset-item id="sy_model" src="/source/model/Songyan.glb"></a-asset-item> -->
                </a-assets>

                <a-entity id="homeModel">      
                    <!-- For loading Songyan compressed model -->
                    <!-- <a-entity gltf-model="url(/source/model/s_0903_d.glb)" scale="0.5 0.5 0.5"></a-entity> -->

                    <!-- <a-entity gltf-model="#sy_model" scale="0.5 0.5 0.5"></a-entity> -->
                    <!-- <a-sky id="sky" transparent="true" color="#fad964"></a-sky> -->
                    <a-box id="floor" static-body grabbable color="#2fba90" depth="34" height="0.2" width="22" rotation="0 90 0" position="0 -0.05 0"></a-box>
    
                    <a-entity id = 'cube360s' visible = 'true' >
                        <a-box id="b_cube" color="#75a2eb" width='0.2' height='0.2' depth="0.2" position="2 1 4" visible="true"></a-box>
                        <a-box id="y_cube" color="#eff542" width='0.2' height='0.2' depth="0.2" position="-10 1 -2" visible="true"></a-box>
                        <a-box id="r_cube" color="#c4372d" width='0.2' height='0.2' depth="0.2" position="6 1 -1" visible="true"></a-box>
                        <a-box id="p_cube" color="#bf2ca7" width='0.2' height='0.2' depth="0.2" position="-14 1 4" visible="true"></a-box>                        
                    </a-entity>

                    <a-entity id = 'cubeModels' visible = 'true' >
                        <a-box id="g_cube" color="#8cbf82" width='0.2' height='0.2' depth="0.2" position="-5 0.5 -2" visible="true"></a-box>
                        <a-box id="o_cube" color="#edbc40" width='0.2' height='0.2' depth="0.2" position="2 0.5 -5" visible="true"></a-box>
                    </a-entity>
                    

    
                    <a-entity camera id="cam" look-controls="enabled: false" wasd-controls orbit-controls="target: -9 4 2.5 ; minDistance: 10; maxDistance: 60; initialPosition: 16 23 27; maxPolarAngle: 80; minPolarAngle: 4">
                    </a-entity>     
                </a-entity>

                <a-entity id="scene_360" visible="false" arrow-monitor>
                    <a-entity camera id="cam_360" look-controls="enabled: true" wasd-controls position="0 0 0"></a-entity>
                </a-entity>
            </a-scene>
        </div>

        <script src="template/main_dev.js"></script>

        <script src="template/threejs/cameraSceneControl.js"></script>

        <!-- <script src="template/threejs/loadModel.js"></script> -->

        <script src="template/threejs/MIFLY_THREE_FBXLoader.js"></script>
        <script src="template/threejs/inflate.min.js"></script>

    </body>
</html>